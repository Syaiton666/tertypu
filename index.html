<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kuis</title>

<style>
body{
  margin:0;
  background:#e9e9e9;
  font-family:Arial;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:40px 20px;
}

.quiz-box{
  width:300px;
  border:4px solid #2f3e5c;
  background:#fff;
  padding:20px;
  text-align:center;
}

.quiz-box img{
  width:100%;
  margin-top:10px;
}

.video-box{
  margin-top:40px;
  width:90%;
  max-width:900px;
  border:4px solid #2f3e5c;
  background:#fff;
  padding:10px;
}

video{
  width:100%;
  background:#000;
}
</style>
</head>

<body>

<div class="quiz-box">
  <h2>Silahkan Anda Mengisi Kuis Pada QR Di Bawah :)</h2>
  <img src="./Phising.png" alt="Kuis Phising">
</div>

<div class="video-box">
  <video id="video" autoplay muted loop playsinline controls preload="auto">
    <source src="./vid.mp4" type="video/mp4">
  </video>
</div>

<script>
const video = document.getElementById("video");

// Pastikan autoplay muted jalan
window.addEventListener("load", async () => {
  try { await video.play(); } catch(e){}
});

let unlocked = false;

async function unlockSound() {
  if (unlocked) return;

  try {
    video.muted = false;      // unmute
    video.volume = 1.0;       // max volume

    // penting: play() lagi setelah unmute
    await video.play();

    unlocked = true;
    removeListeners();
    console.log("Suara berhasil diaktifkan");
  } catch (e) {
    console.log("Browser masih blokir:", e);
  }
}

// Event yang PALING aman untuk unlock audio
function addListeners(){
  document.addEventListener("click", unlockSound);
  document.addEventListener("touchstart", unlockSound);
  document.addEventListener("keydown", unlockSound);
}

function removeListeners(){
  document.removeEventListener("click", unlockSound);
  document.removeEventListener("touchstart", unlockSound);
  document.removeEventListener("keydown", unlockSound);
}

addListeners();
</script>

</body>
</html>
